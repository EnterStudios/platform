<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="topicPage">
  <div class="container">
    {{# if Template.subscriptionsReady }}
      <p>
        {{ topicValue }} {{totalNumber}}
      </p>
      {{> dateRangePickerMqtt }}
      <div class="row form-group">
        <div class="col-xs-12">
          <label class="radio-inline">
            <input type="radio" name="data-type" value="message_published" checked> Published Messages
          </label>
          <label class="radio-inline">
            <input type="radio" name="data-type" value="del-messages"> Delivered Messages
          </label>
          <label class="radio-inline">
            <input type="radio" name="data-type" value="client_subscribe"> Subscribe Clients
          </label>
          <label class="radio-inline">
            <input type="radio" name="data-type" value="client_publish"> Published Clients
          </label>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6">
          {{> drawChart aggregatedData=aggregatedData query='published-clients' labelFormat=labelFormat}}
        </div>
      </div>
    {{ else }}
      {{> spinner }}
    {{/ if }}
  </div>
</template>
