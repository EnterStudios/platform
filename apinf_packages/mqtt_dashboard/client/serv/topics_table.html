<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="displayTopicsTable">
  <div class="form-group">
    {{> dateRangePickerMqtt }}
  </div>

  <table class="table table-bordered table-hover">
    <thead>
    <tr>
      <th>Topic tree</th>
      <th>Incoming bandwith</th>
      <th>Outgoing bandwith</th>
      <th>Published messages</th>
      <th>Delivered messages</th>
      <th>Published clients</th>
      <th>Subscribed clients</th>
    </tr>
    </thead>
    <tbody>
    {{# each topic in topicsList }}
      {{# with topic }}
      <tr>
        <td class="starred" data-id="{{ id }}">
          <a href="{{ pathFor 'topicPage' id=id }}">
            {{ value }}
          </a>
            <i class="fa {{ starred }}" aria-hidden="true"></i>
        </td>
        <td>{{ incoming }}Mbps</td>
        <td>{{ outgoing }}Mbps</td>
        <td>
          {{ publishedMessages }}
          {{# if trend }}
          <span class={{ textColor 'pub_messages' }}>
            <i class="fa fa-{{ arrowDirection 'pub_messages' }}" aria-hidden="true"></i>
            {{ percentageValue 'pub_messages' }}
          </span>
          {{/ if }}
        </td>
        <td>{{ deliveredMessages }}</td>
        <td>{{ publishedClients }}</td>
        <td>{{ subscribedClients }}</td>
      </tr>
        {{/ with }}
    {{/ each }}
    </tbody>
  </table>
</template>
